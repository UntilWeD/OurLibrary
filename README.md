# 우리의 도서관

## 1. 프로젝트 소개
- 프로젝트 이름 : 우리의 도서관
- 프로젝트 설명 : 기본적인 커뮤니티 웹사이트로서 사용자들끼리 게시글과 댓글, 좋아요를 통해 서로 소통하며 카테고리에 따라 여러 다양한 경험을 할 수 있게 합니다.


### 개발 팀 
- 김진우 


### 개발 기간
- 2025.07.01 ~ 2024.12.12


### 사용 기술 
- JSP/Servlet
- JavaScript
- BootStrap5
- JDBC
- DB : MySQL

### ERD
<img width="1750" height="1122" alt="Image" src="https://github.com/user-attachments/assets/5196576a-3860-4688-9c6a-c21770d1ffcd" />


## 2. 기능


### 유저
1) 유저 관리는 세션으로 클라이언트가 로그인하지 않았다면 로그인화면, 했다면 웹사이트의 홈화면을 보여줍니다.
2) 유저는 회원가입, 로그인, 로그아웃, 유저정보 수정, 회원탈퇴 등 여러 기본적인 기능을 사용할 수 있습니다. 


### 커뮤니티
#### 카테고리
1) 기본적으로 큰 카테고리들이 나오고, 이를 부모로 삼는 카테고리들이 존재합니다. 이러한 많은 카테고리들이 있기에 검색어를 사용하여 검색할 수 있습니다.
2) 이런식으로 카테고리로 들어간다면 유저가 이동한 카테고리 정보를 로컬스토리지에 저장하고 이를 바탕으로 자주 가는 카테고리에서 로컬스토리지로부터 값을 꺼내 볼 수 있습니다.

#### 게시글
1) 글들을 리스트로 확인할 수 있고 20개가 넘어간다면 다음 페이지를 보여줍니다. 
2) 제목과 작성자에 따라 게시글을 검색할 수 있습니다. 
3) 사용자는 게시글을 작성할 수 있고 현재 로그인한 계정이 작성한 포스트만 수정 및 삭제할 수 있습니다. 
4) 게시글에는 파일을 올릴 수 있고 이 파일들은 다른 사용자들이 다운로드 할 수 있습니다.
5) 파일들은 uuid를 사용해서 다른 이름으로 저장되고 각 포스트 id로 구분되어 저장됩니다. 


#### 댓글
1) 게시글마다 각 댓글이 있고 사용자는 해당 게시글에 대하여 작성 할 수 있습니다.
2) 사용자는 현재 로그인한 계정의 id와 작성된 댓글의 id를 비교하여 수정 및 삭제를 할 수 있습니다.

#### 좋아요
1) 사용자는 하루마다 한 게시글에 좋아요 및 싫어요를 누를 수 있습니다. 

### DB
#### 트랜잭션
1) 게시글을 작성하면서 첨부파일을 업로드하게되면 데이터베이스에 기록되게 되는데 만약 게시글을 삭제 하던 도중 오류가 생겨 첨부파일관련 db를 삭제하였지만 서버 컴퓨터의 물리 파일들은 삭제가 되지 않는 경우가 있는데 
2) 이를 해결하기 위해 Connection을 서비스단에서 불러와서 같은 커넥션으로 다른 DAO 메서드들을 호출하여 하나의 커넥션만 사용하도록 하였습니다. 이외에도 여러 DAO 메서드들을 사용하며 데이터의 동시성에 문제가 생길법한 메서드에 트랜잭션을 적용하였습니다.


